# proj68-异步操作系统中的进程、线程和协程调度

## 项目简介

我们实现了ArceOS-QEMU-ATS-INTC系统，由QEMU中的部分与ArceOS中的部分组成。我们在QEMU模拟器中实现了一个结合了协程调度功能的中断控制器，为ArceOS系统添加了由该硬件提供的协程和外部中断支持，并优化了系统的网络模块。实验证明，我们实现的系统比原系统具有更高的任务调度性能，以及高并发情况下更高的网络性能。

详细介绍见`说明文档.docx`。

## 运行方式

以下操作需要在Linux系统下进行：

1. 首先编译该项目提供的QEMU版本，得到qemu-system-riscv64二进制程序，并加入系统的环境变量
2. 进入`arceos-ats-intc`目录，使用`make A=apps/presentation ARCH=riscv64 LOG=error NET=y SMP=4`编译并运行系统的测试程序。该系统中的程序首先会自己测试并打印出任务调度测试的结果，之后运行一个TCP服务器。
3. 在另一个终端中，进入`tcp-client`目录，使用`cargo run`运行，其会与ArceOS系统建立多个TCP连接，发送数据，并接收系统计算后返回的结果。程序会统计单位时间内系统处理请求的数目，并打印测试结果。